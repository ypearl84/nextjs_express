{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component, useState, useReducer, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport AdArea from './parts/adArea';\nimport ArticleDetail from \"./parts/articleDetail\";\nimport RelatedNews from \"./parts/relatedNews\";\nimport PopularNews from \"./parts/PopularNews\";\nimport BottomMenu from './parts/bottomMenu';\nimport { petchingArticleDetail } from \"../../actions/actions\";\nimport DataFetchingReducer from '../../reducers/dataFetchingReducer';\nimport Axios from 'axios';\nimport * as types from \"../../actions/actionTypes\";\n\nvar Article = function Article(props) {\n  var _useState = useState({}),\n      articleDetail = _useState[0],\n      setArticleDetail = _useState[1];\n\n  var date = props.match.params;\n  var p2Index = date.p2.substring(0, 4) + \"/\" + date.p2.substring(4, 6) + \"/\" + date.p2.substring(6, 8);\n  var url = \"http://data.koreatimes.com/article/\".concat(p2Index, \"/\").concat(date.p3, \".data\");\n  useEffect(function () {\n    var CancelToken = Axios.CancelToken;\n    var source = CancelToken.source();\n\n    var loadData = function loadData() {\n      try {\n        Axios.get(url, {\n          cancelToken: source.token\n        }).then(function (data) {\n          setArticleDetail(data.data);\n        });\n      } catch (error) {\n        if (Axios.isCancel(error)) {\n          console.log(\"cancelled\");\n        } else {\n          throw error;\n        }\n      }\n    };\n\n    loadData();\n    return function () {\n      source.cancel();\n    };\n  }, [props]);\n  return __jsx(\"div\", {\n    id: \"container\",\n    className: \"bg_container\"\n  }, __jsx(AdArea, null), __jsx(ArticleDetail, {\n    item: articleDetail\n  }), !!articleDetail.related_u1 && __jsx(RelatedNews, {\n    item: articleDetail\n  }), __jsx(PopularNews, null), __jsx(AdArea, null), __jsx(BottomMenu, null));\n};\n\nexport default Article;\n/*\r\n\r\nclass Article extends Component {\r\n\r\n        constructor(props) {\r\n                super(props)\r\n\r\n                const { petchingArticleDetail } = this.props\r\n                //console.log(petchingArticleDetail())\r\n                petchingArticleDetail(this.props.match.params.p2, this.props.match.params.p3)\r\n\r\n        }\r\n\r\n\r\n    render () {\r\n\r\n                const { dataFetchingReducer } = this.props\r\n\r\n                return (\r\n                    <div id=\"container\" className=\"bg_container\">\r\n                            <AdArea/>\r\n                            <ArticleDetail item={dataFetchingReducer.articleDetail}/>\r\n                            { !! dataFetchingReducer.articleDetail.related_u1 && <RelatedNews item={dataFetchingReducer.articleDetail}/> }\r\n                            <PopularNews/>\r\n                            <AdArea/>\r\n                            <BottomMenu/>\r\n                    </div>\r\n                )\r\n        }\r\n};\r\n\r\nfunction mapStateToProps (state) {\r\n        const { dataFetchingReducer } = state\r\n        return { dataFetchingReducer }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n    bindActionCreators({ petchingArticleDetail }, dispatch)\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Article)*/","map":{"version":3,"sources":["C:/Users/NewMedia/PhpstormProjects/test1017/sample/test2/components/body/article.js"],"names":["React","Component","useState","useReducer","useEffect","connect","bindActionCreators","AdArea","ArticleDetail","RelatedNews","PopularNews","BottomMenu","petchingArticleDetail","DataFetchingReducer","Axios","types","Article","props","articleDetail","setArticleDetail","date","match","params","p2Index","p2","substring","url","p3","CancelToken","source","loadData","get","cancelToken","token","then","data","error","isCancel","console","log","cancel","related_u1"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,SAAjD,QAAkE,OAAlE;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,SAAQC,qBAAR,QAAoC,uBAApC;AACA,OAAOC,mBAAP,MAAgC,oCAAhC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,KAAZ,MAAuB,2BAAvB;;AAGA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAW;AAAA,kBAEmBf,QAAQ,CAAC,EAAD,CAF3B;AAAA,MAEhBgB,aAFgB;AAAA,MAEDC,gBAFC;;AAIvB,MAAMC,IAAI,GAAGH,KAAK,CAACI,KAAN,CAAYC,MAAzB;AACA,MAAMC,OAAO,GAAGH,IAAI,CAACI,EAAL,CAAQC,SAAR,CAAkB,CAAlB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCL,IAAI,CAACI,EAAL,CAAQC,SAAR,CAAkB,CAAlB,EAAqB,CAArB,CAAhC,GAA0D,GAA1D,GAAgEL,IAAI,CAACI,EAAL,CAAQC,SAAR,CAAkB,CAAlB,EAAqB,CAArB,CAAhF;AAEA,MAAMC,GAAG,gDAAyCH,OAAzC,cAAoDH,IAAI,CAACO,EAAzD,UAAT;AAGAvB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMwB,WAAW,GAAGd,KAAK,CAACc,WAA1B;AACA,QAAMC,MAAM,GAAGD,WAAW,CAACC,MAAZ,EAAf;;AAEA,QAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB,UAAI;AACAhB,QAAAA,KAAK,CAACiB,GAAN,CAAUL,GAAV,EAAe;AAAEM,UAAAA,WAAW,EAAEH,MAAM,CAACI;AAAtB,SAAf,EAA8CC,IAA9C,CAAmD,UAAAC,IAAI,EAAI;AACvDhB,UAAAA,gBAAgB,CAACgB,IAAI,CAACA,IAAN,CAAhB;AACH,SAFD;AAGH,OAJD,CAIE,OAAOC,KAAP,EAAc;AACZ,YAAItB,KAAK,CAACuB,QAAN,CAAeD,KAAf,CAAJ,EAA2B;AACvBE,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH,SAFD,MAEO;AACH,gBAAMH,KAAN;AACH;AACJ;AACJ,KAZD;;AAcAN,IAAAA,QAAQ;AACR,WAAO,YAAM;AACTD,MAAAA,MAAM,CAACW,MAAP;AACH,KAFD;AAGH,GAtBQ,EAsBN,CAACvB,KAAD,CAtBM,CAAT;AAwBA,SACI;AAAK,IAAA,EAAE,EAAC,WAAR;AAAoB,IAAA,SAAS,EAAC;AAA9B,KACI,MAAC,MAAD,OADJ,EAEI,MAAC,aAAD;AAAe,IAAA,IAAI,EAAEC;AAArB,IAFJ,EAGM,CAAC,CAAEA,aAAa,CAACuB,UAAjB,IAA+B,MAAC,WAAD;AAAa,IAAA,IAAI,EAAEvB;AAAnB,IAHrC,EAII,MAAC,WAAD,OAJJ,EAKI,MAAC,MAAD,OALJ,EAMI,MAAC,UAAD,OANJ,CADJ;AAUH,CA5CD;;AA8CA,eAAeF,OAAf;AAEA","sourcesContent":["import React, { Component, useState, useReducer, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport AdArea from './parts/adArea'\r\nimport ArticleDetail from \"./parts/articleDetail\"\r\nimport RelatedNews from \"./parts/relatedNews\"\r\nimport PopularNews from \"./parts/PopularNews\"\r\nimport BottomMenu from './parts/bottomMenu'\r\nimport {petchingArticleDetail} from \"../../actions/actions\"\r\nimport DataFetchingReducer from '../../reducers/dataFetchingReducer'\r\n\r\nimport Axios from 'axios'\r\nimport * as types from \"../../actions/actionTypes\";\r\n\r\n\r\nconst Article = (props) => {\r\n\r\n    const [articleDetail, setArticleDetail] = useState({})\r\n\r\n    const date = props.match.params\r\n    const p2Index = date.p2.substring(0, 4) + \"/\" + date.p2.substring(4, 6) + \"/\" + date.p2.substring(6, 8);\r\n\r\n    const url = `http://data.koreatimes.com/article/${p2Index}/${date.p3}.data`\r\n\r\n\r\n    useEffect(() => {\r\n        const CancelToken = Axios.CancelToken;\r\n        const source = CancelToken.source();\r\n\r\n        const loadData = () => {\r\n            try {\r\n                Axios.get(url, { cancelToken: source.token }).then(data => {\r\n                    setArticleDetail(data.data);\r\n                });\r\n            } catch (error) {\r\n                if (Axios.isCancel(error)) {\r\n                    console.log(\"cancelled\");\r\n                } else {\r\n                    throw error;\r\n                }\r\n            }\r\n        };\r\n\r\n        loadData();\r\n        return () => {\r\n            source.cancel();\r\n        };\r\n    }, [props]);\r\n\r\n    return (\r\n        <div id=\"container\" className=\"bg_container\">\r\n            <AdArea/>\r\n            <ArticleDetail item={articleDetail}/>\r\n            { !! articleDetail.related_u1 && <RelatedNews item={articleDetail}/> }\r\n            <PopularNews/>\r\n            <AdArea/>\r\n            <BottomMenu/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Article\r\n\r\n/*\r\n\r\nclass Article extends Component {\r\n\r\n        constructor(props) {\r\n                super(props)\r\n\r\n                const { petchingArticleDetail } = this.props\r\n                //console.log(petchingArticleDetail())\r\n                petchingArticleDetail(this.props.match.params.p2, this.props.match.params.p3)\r\n\r\n        }\r\n\r\n\r\n    render () {\r\n\r\n                const { dataFetchingReducer } = this.props\r\n\r\n                return (\r\n                    <div id=\"container\" className=\"bg_container\">\r\n                            <AdArea/>\r\n                            <ArticleDetail item={dataFetchingReducer.articleDetail}/>\r\n                            { !! dataFetchingReducer.articleDetail.related_u1 && <RelatedNews item={dataFetchingReducer.articleDetail}/> }\r\n                            <PopularNews/>\r\n                            <AdArea/>\r\n                            <BottomMenu/>\r\n                    </div>\r\n                )\r\n        }\r\n};\r\n\r\nfunction mapStateToProps (state) {\r\n        const { dataFetchingReducer } = state\r\n        return { dataFetchingReducer }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n    bindActionCreators({ petchingArticleDetail }, dispatch)\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Article)*/\r\n"]},"metadata":{},"sourceType":"module"}